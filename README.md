# CRYSTALS-Kyber_for_8Bit_AVR
This Repository contains an implementation of CRYSTALS-KYBER (with different Formats for the Private Key) and DHKEM for an 8-Bit AVR Microcontroller on an ARDUINO MEGA2560. 
These Algorithms can be compared with each other or an early version of NEWHOPE.

## Sources
The implementation of CRYSTALS-Kyber is based on the Reference Implementation (<https://github.com/pq-crystals/kyber>) and  Post-quantum crypto library for the ARM Cortex-M4 (<https://github.com/mupq/pqm4>). The Crypto Library, containing the symmetric Algorithms, and the NewHope Implementation are taken from the Arduino Crypto Library (<https://github.com/rweather/arduinolibs>). Helpful implementations for measuring (CPU-Cycle-Counter, Stack-Count and print) on the Arduino MEGA2560 are taken from Peter Schwabe (https://munacl.cryptojedi.org/curve25519-atmega.shtml)

## Usage/Installation
### Libraries
This Folder contains the Libraries of CRYSTALS-Kyber, DH-KEM and NewHope. In combination with the Arduino IDE these libraries can be used on the Arduino MEGA2560. Just copy the content of this folder into die "libraries"-Folder that is generated by the IDE. Then just include them into your Sketch with #include crystalskyber.h, #include "Curve25519KEM.h", #include "P521KEM.h" or #include "NewHope.h". To change the parameters of CRYSTALS-Kyber (like "k" or the Private Key Variant) you have to adjust params.h .

### Use Cases (Anwendungsf√§lle)
The Use Cases show that Private Keys can be saved in the EEPROM and how Kyber can be executed in a Sketch. The prerequisite ist that the libraries for CRYSTALS-Kyber and the cryptographic primitives (Crypto-Library) must be installed.

### CRYSTALS-Kyber_non_Arduino
This library is executed on a PC to check the algorithms, and produce test values for the Arduino implementation. To run the algorithms just execute the corresponding script and execute the executable.

### Measurement (Messung)
This folder provides the Code to benchmark and check all provided algorithms (CRYSTALS-Kyber, NewHope, DHKEM with Curve25519 and DHKEM with P521). The prerequisite is that gcc-avr, binutils-avr gdb-avr avr-libc and avrdude are installed. To build the executable Files the corresponding script must be executed. In case of Kyber the script needs parameter values for "k" and the secret key format "v" (Format of command: "sh build_Kyber_executables.sh {K} {V}".) Both must be set.
